---
title: "注释"
date: 2022-12-28T16:40:41+08:00
---

注释是写在程序中的笔记，它并不会被编译器编译，被程序员用来记录程序相关信息。

C++中有两种类型的注释，它们有着相同的功能：用来作为程序的文档。

***
## 单行注释

C++中使用「//」来做单行注释。在一行代码中，「//」后面的内容都会被编译器忽略。

```C++
std::cout << "Hello world"; // 这里的所有内容都不会被编译
```

通常单行注释是用来对单行代码做简单的说明。

```C++
std::cout << "Hello world\n"; // std::cout是iostream库中的功能
std::cout << "长长长长长长长长长长长长长长长长长长长长长\n"; // 这样的注释使代码不容易阅读
std::cout << "短短短\n"; // 尤其是代码有长有短
```

当代码比较长的时候，在代码后面进行注释，会使得代码与评论不方便阅读。
如果代码比较短，可以将注释进行对齐，像下面这样

```C++
std::cout << "Hello world\n"; // std::cout是iostream库中的功能
std::cout << "Aa\n";          // 这样的注释
std::cout << "Bb\n";          // 容易阅读
```

代码比较长的情况，可以将注释放到代码的前一行

```C++
// std::cout是iostream库中的功能
std::cout << "Hello world\n";

// 这样的注释
std::cout << "长长长长长长长长长长长长长长长长长长长长长\n";

// 容易阅读
std::cout << "短短短\n";
```

上面演示的只是代码片段，而不是完整的程序，因此无法编译。

如果想要编译这些代码片段，如果将它们变成完成的程序，比如可以放在main函数中：

```C++
#include <iostream>

int main()
{
    // 将你想要编译的代码片段放到这里即可，然后编译运行

    return 0;
}
```

***
## 多行注释

 「/\*」与「*\/」之间的内容，也会被编译器忽略。

```C++
/* 这是多行注释
   这一行会被忽略
   这一行也是 */
```

有时候为了美观，会在每一行前都加上「\*」。

```C++
/* 这是多行注释
 * 这一行会被忽略
 * 这一行也是 
 */
```

多行注释无法嵌套使用，因此如下的例子中，会有一些未预期的结果

```C++
/* 这是多行注释 /* 注释 */ 这里已经不在注释中 */
// 上一行的注释在第一个「*/」 已经结束，而不是第二个「*/」
```

当编译器遇到上面的代码片段时，会忽略第一个 「/\*」与第一个「*\/」之前的内容。
因此，「这里已经不在注释中 \*/」会被当作代码，进行编译。当然这会有编译错误出现。

IDE的语法高亮功能，能帮助我们快速的发现这种问题，注释与其它代码有着不同的颜色，很容易区分。

***
## 注释使用原则

注释是用来编写给那些第一次阅读代码的人来帮助理解程序逻辑的。你可能会说“我自己的代码，只有自己用，不用写注释”。
但是可能不用几天，你可能就会忘掉自己当时的思路，这时候在看自己的代码，就和第一次阅读别人的代码一个感觉。

使用注释，一般有三个原则。

1. 放置在程序，库或者函数前面，使用注释来描述代码的用途。

```C++
// 本程序用来计算班级中学生成绩的排名

// 本函数使用牛顿法来求数据的平方根
```

通过使用注释，使用代码的人，不必阅读代码，就能知道对应的代码实现了什么功能。
这样，可以大大提高代码的复用效率，尤其在多人协作编程时更加有用。

2. 放置在库或者函数里面，描述代码是如何实现需要的功能。

```C++
/* 为了得到期末成绩
   将期中成绩，作业以及考试成绩
   按照一定比率求和 */

// 从一堆号码中随机抽一个
// 1. 将所有的号码放到一个数组中
// 2. 生成一个随机数
// 3. 计算出这个随机数对应的数组的位置
// 4. 返回数组中对应的元素
```

通过上面这些注释，能够快速知道代码是如何实现需要的功能，无需了解每一行代码的含义。

3. 在语句层面，描述为什么代码要这么写。

如果只是用来描述代码的行为，这种的注释大可不必去写。就如同下面的例子。

坏注释：
```C++
// 将score的值设置为0
score = 0;
```
原因：不用看注释，也能知道语句的行为

好注释：
```C++
// 每一局比赛开始时，分数清零
score = 0;
```
原因：可以知道为什么score会被设置为0

***
## 注释代码

在调试或者调整代码时，经常会有让一行或者多行代码不进行编译的需求。
这时候，就可以把这些代码放置到注释里。

例如，原始的程序是这样：
```C++
std::cout << 1;
std::cout << 2;
std::cout << 3;
```

可以使用如下的注释方式，来让这几行代码不会被编译执行：

```C++
// std::cout << 1;
// std::cout << 2;
// std::cout << 3;

/*
 * std::cout << 1;
 * std::cout << 2;
 * std::cout << 3;
 */
```

{{< alert secondary >}}
**注**

在后续章节，会介绍使用预处理指令「#if 0」来达到同样目的的方式。
{{< /alert >}}
***

{{< prevnext prev="/basic/chapter1/program-structure/" next="/basic/chapter1/variable/" >}}
程序结构介绍
<--->
变量
{{< /prevnext >}}