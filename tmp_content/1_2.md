---
title: "对象和变量简介"
date: 2023-10-09T20:06:10+08:00
---

***
## 数据和值

在第1.1课——语句和程序的结构中，您了解到程序中的大多数指令都是语句，函数是按顺序执行的语句组。函数中的语句执行操作，这些操作（希望）生成程序设计要生成的任何结果。

但程序如何实际产生结果呢？它们通过操纵（读取、更改和写入）数据来实现这一点。在计算中，数据是计算机可以移动、处理或存储的任何信息。

程序可以以多种方式获取要使用的数据：从文件或数据库、通过网络、从在键盘上提供输入的用户或从程序员直接将数据放入程序本身的源代码中。在上述课程的“Hello world”程序中，文本“Hello world！”被直接插入程序的源代码中，为程序提供要使用的数据。然后，程序通过将该数据发送到要显示的监视器来处理该数据。

计算机上的数据通常以有效的存储或处理格式存储（因此不是人类可读的）。因此，当编译“Hello World”程序时，文本“Hello World！”被转换为程序使用的更有效的格式（二进制，我们将在以后的课程中讨论）。

值是字母（例如A）、数字（例如5）、文本（例如Hello）或可以表示为数据的其他有用概念（例如分数）的出现。

{{< alert success >}}
**关键洞察力**

程序是操作数据以产生所需结果的指令集合。

{{< /alert >}}

***
## 对象和变量

所有计算机都有内存，称为RAM（随机存取存储器的缩写），可供程序使用。您可以将RAM视为一系列编号的邮箱，每个邮箱都可以在程序运行时保存一段数据。

在一些较旧的编程语言（如Applesoft BASIC）中，您可以直接访问这些邮箱（语句可以说类似go获取存储在邮箱编号7532中的值）。

在C++中，不鼓励直接内存访问。相反，我们通过对象间接访问内存。对象是可以存储值的存储区域（通常是内存），并且具有其他相关属性（我们将在以后的课程中介绍）。编译器和操作系统如何为对象分配内存超出了本课程的范围。但这里的关键点是，与其说获取存储在邮箱7532中的值，不如说获取该对象存储的值。这意味着我们可以专注于使用对象来存储和检索值，而不必担心它们在内存中的实际位置。

对象可以命名或未命名（匿名）。命名对象称为变量，对象的名称称为标识符。在我们的程序中，我们创建和使用的大多数对象都是变量。

{{< alert success >}}
**作者注释**

在一般编程中，术语对象通常是指内存中的未命名对象、变量或函数。在C++中，术语对象的定义更窄，不包括函数。

{{< /alert >}}

{{< alert success >}}
**关键洞察力**

对象（和命名对象，称为变量）用于存储值。

{{< /alert >}}

***
## 变量实例化

为了创建变量，我们使用一种特殊的声明语句，称为定义（稍后我们将澄清声明和定义之间的区别）。

下面是定义名为x的变量的示例：

```C++
int x; // define a variable named x, of type int
```

在编译时，当编译器看到该语句时，它会提醒自己，我们正在定义一个变量，将其命名为x，并且它的类型为int（稍后将详细介绍类型）。从那时起（我们将在以后的课程中讨论一些限制），每当编译器看到标识符x时，它就会知道我们正在引用这个变量。

当程序运行时（称为运行时），变量将被实例化。实例化是一个奇特的词，意味着将创建对象并为其分配内存地址。变量必须先实例化，然后才能用于存储值。为了示例起见，假设变量x在内存位置140处实例化。每当程序使用变量x时，它将访问存储器位置140中的值。实例化对象有时称为实例。

***
## 数据类型

到目前为止，我们已经讨论了变量是可以存储数据值的命名存储区域（如何准确地存储数据是未来课程的主题）。数据类型（通常称为类型）告诉编译器变量将存储哪种类型的值（例如，数字、字母、文本等）。

在上面的例子中，我们的变量x被赋予int类型，这意味着变量x将表示一个整数值。整数是可以在没有分数分量的情况下写入的数字，例如4、27、0、-2或-12。简而言之，我们可以说x是一个整数变量。

在C++中，变量的类型必须在编译时（编译程序时）已知，并且在不重新编译程序的情况下不能更改该类型。这意味着整数变量只能保存整数值。如果要存储其他类型的值，则需要使用不同的类型。

整数只是C++现成支持的许多类型之一。为了便于说明，下面是使用数据类型double定义变量的另一个示例：

```C++
double width; // define a variable named width, of type double
```

C++还允许您创建自己的用户定义类型。这是我们在以后的课程中会做的许多事情，也是C++强大的一部分。

对于这些介绍性章节，我们将坚持使用整数变量，因为它们在概念上很简单，但我们将很快探索C++提供的许多其他类型（包括double）。

***
## 定义多个变量

通过用逗号分隔名称，可以在单个语句中定义相同类型的多个变量。以下两段代码实际上是相同的：

```C++
int a;
int b;
```

与以下内容相同：

```C++
int a, b;
```

以这种方式定义多个变量时，新程序员往往会犯两个常见的错误（都不严重，因为编译器会捕获这些错误并要求您修复它们）：

第一个错误是在按顺序定义变量时为每个变量指定类型。

```C++
int a, int b; // wrong (compiler error)

int a, b; // correct
```

第二个错误是试图在同一语句中定义不同类型的变量，这是不允许的。不同类型的变量必须在单独的语句中定义。

```C++
int a, double b; // wrong (compiler error)

int a; double b; // correct (but not recommended)

// correct and recommended (easier to read)
int a;
double b;
```

{{< alert success >}}
**最佳做法**

尽管语言允许您这样做，但请避免在单个语句中定义相同类型的多个变量。相反，在单独的语句中在自己的行上定义每个变量（然后使用单行注释来记录它的用途）。

{{< /alert >}}

***
## 总结

在C++中，我们使用变量来访问内存。变量有一个标识符、一个类型和一个值（以及这里不相关的一些其他属性）。变量的类型用于确定如何解释内存中的值。

在下一课中，我们将学习如何为变量赋值，以及如何实际使用它们。

***
## 测验时间

