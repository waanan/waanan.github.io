---
title: "范围、持续时间和链接摘要"
date: 2023-11-01T20:12:31+08:00
---

范围、持续时间和链接的概念导致了许多混乱，因此我们将额外上一课来总结所有内容。其中一些内容我们还没有介绍，它们在这里只是为了以后的完整性/参考。





***
## 范围摘要

标识符的作用域确定可以在源代码中访问标识符的位置。

1. 具有块（局部）范围的变量只能从声明点访问，直到声明它们的块（包括嵌套块）的末尾。这包括：
2. 具有全局范围的变量和函数可以从声明点访问，直到文件结束。这包括：


***
## 持续时间摘要

变量的持续时间决定了它的创建和销毁时间。

1. 具有自动持续时间的变量在定义点创建，并在退出它们所属的块时销毁。这包括：
2. 具有静态持续时间的变量在程序开始时创建，在程序结束时销毁。这包括：
3. 具有动态持续时间的变量由程序员请求创建和销毁。这包括：


***
## 联动汇总表

标识符的链接确定标识符的多个声明是否引用同一实体（对象、函数、引用等）。

1. 没有链接的标识符意味着该标识符仅引用其自身。这包括：
2. 具有内部链接的标识符可以在其声明的文件中的任何位置访问。这包括：
3. 具有外部链接的标识符可以在其声明的文件或其他文件中的任何位置访问（通过前向声明）。这包括：


如果将定义编译到多个.cpp文件中，则具有外部链接的标识符通常会导致重复定义链接器错误（由于违反了一个定义规则）。这个规则有一些例外（对于类型、模板和内联函数和变量）——当我们讨论这些主题时，我们将在以后的课程中进一步讨论这些。

另请注意，默认情况下，函数具有外部链接。可以使用static关键字将它们设置为内部。

***
## 变量范围、持续时间和链接摘要

由于变量具有范围、持续时间和链接，因此让我们在图表中进行总结：

***
## 远期申报汇总

您可以使用前向声明来访问另一个文件中的函数或变量。声明的变量的范围与通常一样（全局的全局范围，局部的块范围）。

***
## 什么是存储类说明符？

当用作标识符声明的一部分时，静态和外部关键字称为存储类说明符。在这种情况下，它们设置标识符的存储持续时间和链接。

C++支持4个活动存储类说明符：

术语存储类说明符通常仅在正式文档中使用。

